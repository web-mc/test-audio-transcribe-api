# Техническая документация API для транскрибации аудио

## Обзор проекта

[Техническое задание](Zadanie.md)

Приложение предоставляет REST API для асинхронной транскрибации аудиофайлов с использованием искусственного интеллекта и возможности задавать вопросы по содержанию аудио.

## Архитектура

Приложение построено на основе микросервисной архитектуры с использованием следующих технологий:
- **FastAPI**: Веб-фреймворк для создания API.
- **PostgreSQL**: Реляционная база данных для хранения метаданных транскрибаций.
- **RabbitMQ**: Брокер сообщений для асинхронной обработки.
- **Celery**: Система для выполнения фоновых задач.
- **OpenAI API**: Сервис для транскрибации аудио и обработки вопросов.

## Основные компоненты

### Сервисы
- **TranscriptionService**: Основной сервис, управляющий логикой транскрибации.
- **TranscriptionsRepo**: Репозиторий для взаимодействия с базой данных.
- **AiClient**: Клиент для работы с AI API (OpenAI).
- **Storage**: Компонент для хранения аудиофайлов.

### Модели данных
- **Transcriptions**: Модель базы данных для хранения информации о транскрибациях.

## Взаимодействие компонентов

1. Пользователь отправляет аудиофайл через API.
2. Файл сохраняется в локальном хранилище.
3. В базе данных создается запись о транскрибации.
4. Запускается асинхронная задача Celery для обработки файла.
5. Задача вызывает AI клиент для транскрибации.
6. Результат сохраняется в базу данных.
7. Пользователь может запросить статус и результат транскрибации.
8. Пользователь может задавать вопросы по содержанию аудио.

См. также: [Диаграммы](docs/v1/architecture.md), [API Endpoints](docs/v1/api-endpoints.md), [Настройки приложения](docs/v1/app-settings.md), [Запуск в Docker](docs/v1/docker-setup.md), [База данных](docs/v1/database.md)
